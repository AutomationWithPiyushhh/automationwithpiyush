<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Surgical Suite | Nested Frames</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #1a1b23;
            color: #d1d5db;
            font-family: 'Inter', sans-serif;
            padding: 40px;
        }

        /* --- THEME STYLES --- */
        .frame-container {
            border: 1px solid #374151;
            padding: 10px;
            background: #252631;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .frame-label {
            font-family: monospace;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 8px;
            display: block;
        }

        /* Standard iframe look */
        iframe {
            width: 100%;
            background: #f8fafc;
            border-radius: 6px;
            border: 2px solid #475569;
        }

        /* Coloring for hierarchy visualization */
        .depth-0 {
            border-color: #fbbf24;
        }

        /* Amber (Outer) */
        .depth-1 {
            border-color: #60a5fa;
        }

        /* Blue (Level 1) */
        .depth-2 {
            border-color: #a78bfa;
        }

        /* Purple (Level 2) */
        .depth-3 {
            border-color: #f87171;
        }

        /* Red (Level 3) */
    </style>
</head>

<body>

    <header class="mb-12 border-b border-gray-700 pb-8">
        <h1 class="text-4xl font-bold text-amber-400 mb-4">Surgical Suite: Frame Hierarchy</h1>
        <p class="text-gray-400 max-w-2xl">
            <strong>Training Objective:</strong> Practice complex context switching.
            <br>
            This exercise features multiple nested iframes simulating a surgical suite's web application.
        </p>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

        <div class="frame-container">
            <span class="frame-label text-amber-400">Outer Frame A</span>
            <iframe id="frame_a" class="depth-0 h-48"></iframe>
        </div>

        <div class="frame-container">
            <span class="frame-label text-amber-400">Outer Frame B</span>
            <iframe id="frame_b" class="depth-0 h-48"></iframe>
        </div>

        <div class="frame-container">
            <span class="frame-label text-amber-400">Outer Frame C</span>
            <iframe id="frame_c" class="depth-0 h-48"></iframe>
        </div>

    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">

        <div class="frame-container">
            <span class="frame-label text-amber-400">Outer Frame D (Deep Nesting Level 4)</span>
            <iframe id="frame_d" class="depth-0 h-[600px]"></iframe>
        </div>

        <div class="frame-container">
            <span class="frame-label text-amber-400">Outer Frame E (Deep Nesting Level 3)</span>
            <iframe id="frame_e" class="depth-0 h-[600px]"></iframe>
        </div>

    </div>

    <script>
        // Helper to create blob URLs for iframes
        function createBlob(htmlContent) {
            const blob = new Blob([htmlContent], { type: 'text/html' });
            return URL.createObjectURL(blob);
        }

        // --- COMMON STYLES FOR INSIDE FRAMES ---
        const style = `
            <style>
                body { font-family: sans-serif; padding: 20px; color: #1e293b; background-color: #f1f5f9; display: flex; flex-direction: column; justify-content: center; }
                h2 { margin: 0 0 10px 0; font-size: 1.2rem; color: #334155; }
                label { font-weight: bold; font-size: 0.9rem; display: block; margin-bottom: 5px; }
                input, select, button { padding: 8px; border: 1px solid #cbd5e1; border-radius: 4px; margin-bottom: 10px; width: 100%; box-sizing: border-box; }
                button { background: #3b82f6; color: white; border: none; cursor: pointer; font-weight: bold; }
                button:hover { background: #2563eb; }
                .tag { font-size: 10px; background: #334155; color: white; padding: 2px 6px; border-radius: 4px; text-transform: uppercase; }
            </style>
        `;

        // --- 1. SIMPLE OUTER FRAMES (A, B, C) ---

        // Frame A Content
        const htmlA = `<html>${style}<body>
            <h2><span class="tag">ID: frame_a</span> Patient Admission</h2>
            <label>Patient Name:</label>
            <input type="text" id="name_input" placeholder="Enter Full Name">
        </body></html>`;
        document.getElementById('frame_a').src = createBlob(htmlA);

        // Frame B Content
        const htmlB = `<html>${style}<body>
            <h2><span class="tag">ID: frame_b</span> Triage Checklist</h2>
            <div style="display: flex; align-items: center; gap: 10px; background: white; padding: 10px; border-radius: 6px;">
                <input type="checkbox" id="critical_check" style="width: 20px; height: 20px; margin: 0;">
                <label style="margin: 0; color: #ef4444;">Critical Condition?</label>
            </div>
        </body></html>`;
        document.getElementById('frame_b').src = createBlob(htmlB);

        // Frame C Content
        const htmlC = `<html>${style}<body>
            <h2><span class="tag">ID: frame_c</span> Blood Bank</h2>
            <label>Select Blood Type:</label>
            <div style="display: flex; gap: 10px;">
                <label style="font-weight: normal;"><input type="radio" name="blood" value="A+" style="width: auto;"> A+</label>
                <label style="font-weight: normal;"><input type="radio" name="blood" value="B+" style="width: auto;"> B+</label>
                <label style="font-weight: normal;"><input type="radio" name="blood" value="O-" style="width: auto;"> O-</label>
            </div>
        </body></html>`;
        document.getElementById('frame_c').src = createBlob(htmlC);


        // --- 2. COMPLEX NESTED FRAMES (D -> H -> I -> J) ---

        // Level 4: Frame J (Innermost)
        const htmlJ = `<html>${style}<body style="background: #fee2e2;">
            <h2><span class="tag">ID: frame_j</span> Core Nucleus</h2>
            <label>Secret Code:</label>
            <input type="password" id="secret_code" placeholder="Enter Code">
        </body></html>`;
        const urlJ = createBlob(htmlJ);

        // Level 3: Frame I
        const htmlI = `<html>${style}<body style="background: #ffedd5;">
            <h2><span class="tag">ID: frame_i</span> Synapse Relay</h2>
            <label>Voltage Level:</label>
            <select id="voltage_level">
                <option value="low">Low Voltage</option>
                <option value="medium">Medium Voltage</option>
                <option value="high">High Voltage</option>
            </select>
            <iframe id="frame_j" src="${urlJ}" style="height: 150px; border: 2px solid #ef4444; margin-top: 10px;"></iframe>
        </body></html>`;
        const urlI = createBlob(htmlI);

        // Level 2: Frame H
        const htmlH = `<html>${style}<body style="background: #fef3c7;">
            <h2><span class="tag">ID: frame_h</span> Cortex Scan</h2>
            <label>Surgeon Notes:</label>
            <textarea id="notes_area" rows="2" style="width:100%; border-radius:4px; border:1px solid #ccc;">No anomalies detected.</textarea>
            <iframe id="frame_i" src="${urlI}" style="height: 320px; border: 2px solid #f97316; margin-top: 10px;"></iframe>
        </body></html>`;
        const urlH = createBlob(htmlH);

        // Level 1: Frame D (Parent)
        const htmlD = `<html>${style}<body style="background: #dcfce7;">
            <h2><span class="tag">ID: frame_d</span> Neurology Ward</h2>
            <label>Department Action:</label>
            <input type="button" value="Open Door" id="open_door_btn" style="background:#10b981; color:white;">
            <iframe id="frame_h" src="${urlH}" style="height: 500px; border: 2px solid #84cc16; margin-top: 10px;"></iframe>
        </body></html>`;
        document.getElementById('frame_d').src = createBlob(htmlD);


        // --- 3. NESTED FRAMES (E -> F -> G) ---

        // Level 3: Frame G (Innermost)
        const htmlG = `<html>${style}<body style="background: #e0e7ff;">
            <h2><span class="tag">ID: frame_g</span> Final Seal</h2>
            <label>Confirm Action:</label>
            <button id="submit_dispense">DISPENSE MEDS</button>
        </body></html>`;
        const urlG = createBlob(htmlG);

        // Level 2: Frame F
        const htmlF = `<html>${style}<body style="background: #fae8ff;">
            <h2><span class="tag">ID: frame_f</span> Compound Mixer</h2>
            <label>Dosage (mg):</label>
            <input type="range" id="dosage_slider" min="0" max="100">
            <iframe id="frame_g" src="${urlG}" style="height: 150px; border: 2px solid #6366f1; margin-top: 10px;"></iframe>
        </body></html>`;
        const urlF = createBlob(htmlF);

        // Level 1: Frame E (Parent)
        const htmlE = `<html>${style}<body style="background: #f3f4f6;">
            <h2><span class="tag">ID: frame_e</span> Pharmacy</h2>
            <label>Prescription Date:</label>
            <input type="date" id="presc_date">
            <iframe id="frame_f" src="${urlF}" style="height: 350px; border: 2px solid #d946ef; margin-top: 10px;"></iframe>
        </body></html>`;
        document.getElementById('frame_e').src = createBlob(htmlE);

    </script>
</body>

</html>