<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actions Class | AutomationWithPiyush</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap');

        body {
            background-color: #1a1b23;
            color: #ffffff;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        .bg-card {
            background-color: #252631;
            transition: all 0.3s ease;
        }

        .text-accent {
            color: #facc15;
        }

        .border-accent {
            border-color: #facc15;
        }

        .bg-accent {
            background-color: #facc15;
        }

        /* --- DRAG & DROP STYLES --- */
        .drop-zone {
            transition: all 0.2s ease;
        }

        .drop-zone:hover {
            border-color: #facc15;
            background-color: rgba(250, 204, 21, 0.05);
        }

        .drag-item {
            cursor: grab;
            user-select: none;
            touch-action: none;
            position: relative;
            z-index: 10;
            transition: transform 0.1s;
        }

        .drag-item:active {
            cursor: grabbing;
        }

        /* The item while being dragged */
        .drag-item.is-dragging {
            position: fixed;
            z-index: 9999;
            opacity: 0.9;
            transform: scale(1.05);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
            pointer-events: none;
            /* Critical for identifying drop zone below */
        }

        /* When inside the cart, change style slightly */
        #shopping-cart .drag-item {
            background-color: #2d3748;
            /* Darker bg */
            border-left: 3px solid #facc15;
        }

        /* Toast & Slider Styles */
        #toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }

        .toast {
            background: #252631;
            border-left: 4px solid #facc15;
            color: white;
            padding: 1rem 1.5rem;
            margin-bottom: 10px;
            border-radius: 4px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
            animation: slideIn 0.3s ease-out forwards;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .progress-ring {
            transition: stroke-dashoffset 0.05s linear;
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #facc15;
            cursor: pointer;
            margin-top: -10px;
            box-shadow: 0 0 10px rgba(250, 204, 21, 0.5);
            border: 2px solid #1a1b23;
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #4b5563;
            border-radius: 2px;
        }
    </style>
</head>

<body class="pb-20">

    <div id="toast-container"></div>

    <nav class="relative flex justify-between items-center px-6 md:px-8 py-6 max-w-7xl mx-auto z-50">
        <div class="flex items-center gap-3"></div>
        <a href="index.html" class="text-gray-400 hover:text-white transition-colors text-sm font-medium">
            <i class="fas fa-arrow-left mr-2"></i> Back to Ward
        </a>
    </nav>

    <header class="max-w-7xl mx-auto px-6 py-10" data-aos="fade-down">
        <p class="text-accent uppercase tracking-widest text-xs font-bold mb-4">— Surgical Dexterity Unit</p>
        <h1 class="text-4xl md:text-5xl font-bold">Actions <span class="text-gray-600">Anatomy</span></h1>
    </header>

    <main class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8">

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent group lg:col-span-2"
            data-aos="fade-up">
            <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest mb-6">01. Hover</h3>
            <div
                class="h-48 flex items-center justify-center relative group/hover-target bg-[#1a1b23] rounded-lg border border-dashed border-gray-600">
                <button
                    class="px-6 py-3 bg-gray-700 rounded-lg font-bold text-sm group-hover/hover-target:bg-accent group-hover/hover-target:text-black transition-all">Hover
                    Me</button>
                <div
                    class="absolute top-28 opacity-0 group-hover/hover-target:opacity-100 group-hover/hover-target:top-32 transition-all duration-300">
                    <div
                        class="bg-white text-black px-4 py-2 rounded shadow-xl text-xs font-bold flex items-center gap-2">
                        <i class="fas fa-syringe text-red-500"></i> Injection Ready
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent group lg:col-span-2"
            data-aos="fade-up" data-aos-delay="100">
            <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest mb-4">02. Left Click</h3>
            <div id="click-box" onclick="handleClick()"
                class="h-48 bg-[#1a1b23] rounded-lg border border-gray-700 flex flex-col items-center justify-center cursor-pointer select-none transition-all active:scale-95 hover:bg-gray-800">
                <i id="click-icon" class="fas fa-mouse-pointer text-3xl mb-3 text-gray-600"></i>
                <p id="click-text" class="text-sm font-bold text-gray-500">Click to Activate</p>
            </div>
        </div>

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent group lg:col-span-2"
            data-aos="fade-up" data-aos-delay="200">
            <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest mb-4">03. Right Click</h3>
            <div id="right-click-area" oncontextmenu="handleContext(event)"
                class="h-48 bg-[#1a1b23] rounded-lg border border-gray-700 flex flex-col items-center justify-center cursor-context-menu hover:bg-gray-800 transition-colors">
                <i class="fas fa-mouse text-3xl mb-3 text-gray-600"></i>
                <p class="text-sm font-bold text-gray-500">Right Click Here</p>
                <div id="context-menu"
                    class="hidden absolute mt-12 bg-white text-black text-xs font-bold py-2 px-4 rounded shadow-lg">
                    <i class="fas fa-check-circle text-green-600 mr-2"></i> Menu Accessed
                </div>
            </div>
        </div>

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent group lg:col-span-3"
            data-aos="fade-up">
            <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest mb-4">04. Double Click</h3>
            <div id="double-click-area" ondblclick="handleDoubleClick()"
                class="h-48 bg-[#1a1b23] rounded-lg border border-dashed border-gray-600 flex flex-col items-center justify-center cursor-pointer hover:border-accent hover:text-accent transition-all">
                <i id="db-icon" class="fas fa-bolt text-3xl mb-3 text-gray-600"></i>
                <p id="db-text" class="text-sm font-bold text-gray-500">Double Tap to Charge</p>
            </div>
        </div>

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent group lg:col-span-3"
            data-aos="fade-up" data-aos-delay="100">
            <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest mb-4">05. Click & Hold</h3>
            <div id="click-hold"
                class="relative h-48 bg-[#1a1b23] rounded-lg border border-gray-700 flex flex-col items-center justify-center cursor-pointer select-none transition-colors">
                <svg class="absolute inset-0 w-full h-full p-4 pointer-events-none" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" stroke="#333" stroke-width="2" fill="none" />
                    <circle id="hold-progress" class="progress-ring" cx="50" cy="50" r="45" stroke="#facc15"
                        stroke-width="4" fill="none" stroke-dasharray="283" stroke-dashoffset="283"
                        transform="rotate(-90 50 50)" />
                </svg>
                <i id="hold-icon"
                    class="fas fa-fingerprint text-4xl mb-2 text-gray-600 group-hover:text-white transition-colors"></i>
                <p id="hold-text" class="text-sm font-bold text-gray-500 z-10">Hold for 3 Seconds</p>
            </div>
        </div>

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent lg:col-span-4 lg:col-start-2"
            data-aos="fade-up" data-aos-delay="200">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest">06. Shopping Cart (Drag & Drop)
                </h3>
                <div class="bg-gray-900 border border-gray-700 rounded px-4 py-2 flex items-center gap-2">
                    <span class="text-[10px] text-gray-500 uppercase font-bold">Total:</span>
                    <span id="cart-total" class="text-xl font-mono font-bold text-accent">$0</span>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-8">
                <div id="shelf-zone"
                    class="drop-zone space-y-3 min-h-[250px] p-4 rounded-lg border border-dashed border-gray-700 bg-[#1a1b23]/50 relative">
                    <p class="text-[10px] text-gray-500 font-bold uppercase mb-2 absolute -top-6 left-0">Available
                        Products</p>

                    <div id="prod-laptop" data-price="1200"
                        class="drag-item h-12 bg-gray-700 rounded-lg flex justify-between px-4 items-center shadow-lg border border-transparent hover:border-white transition-all text-xs font-bold">
                        <span class="pointer-events-none"><i class="fas fa-laptop mr-2"></i>Laptop</span>
                        <span class="text-accent pointer-events-none">$1200</span>
                    </div>

                    <div id="prod-phone" data-price="800"
                        class="drag-item h-12 bg-gray-700 rounded-lg flex justify-between px-4 items-center shadow-lg border border-transparent hover:border-white transition-all text-xs font-bold">
                        <span class="pointer-events-none"><i class="fas fa-mobile-alt mr-2"></i>iPhone</span>
                        <span class="text-accent pointer-events-none">$800</span>
                    </div>

                    <div id="prod-watch" data-price="300"
                        class="drag-item h-12 bg-gray-700 rounded-lg flex justify-between px-4 items-center shadow-lg border border-transparent hover:border-white transition-all text-xs font-bold">
                        <span class="pointer-events-none"><i class="fas fa-clock mr-2"></i>Watch</span>
                        <span class="text-accent pointer-events-none">$300</span>
                    </div>

                    <div id="prod-headphones" data-price="150"
                        class="drag-item h-12 bg-gray-700 rounded-lg flex justify-between px-4 items-center shadow-lg border border-transparent hover:border-white transition-all text-xs font-bold">
                        <span class="pointer-events-none"><i class="fas fa-headphones mr-2"></i>Headset</span>
                        <span class="text-accent pointer-events-none">$150</span>
                    </div>
                </div>

                <div class="space-y-3 relative">
                    <p class="text-[10px] text-gray-500 font-bold uppercase mb-2 text-right absolute -top-6 right-0">
                        Your Cart</p>

                    <div id="cart-zone"
                        class="drop-zone h-full min-h-[250px] border-2 border-dashed border-gray-600 rounded-lg flex flex-col gap-3 p-4 bg-[#1a1b23] transition-colors relative">
                        <div id="cart-placeholder"
                            class="absolute inset-0 flex items-center justify-center text-gray-700 pointer-events-none">
                            <span class="text-xs uppercase font-bold">Drop Items Here</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-card p-8 rounded-xl border border-gray-800 hover:border-accent lg:col-span-6" data-aos="fade-up">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-gray-500 text-xs font-bold uppercase tracking-widest">07. Range Slider</h3>
                <span id="slider-val" class="text-3xl font-black text-gray-500 font-mono">0</span>
            </div>
            <div class="relative px-4 pt-4 pb-8">
                <div class="absolute left-1/2 -top-2 w-px h-12 bg-gray-600 z-0 transform -translate-x-1/2"></div>
                <input type="range" id="pulse-slider" min="-100" max="100" value="0" oninput="updateSlider(this.value)"
                    class="relative z-10">
                <div class="flex justify-between mt-4 text-[10px] text-gray-500 font-bold uppercase font-mono">
                    <span class="text-red-400">Negative (-100)</span>
                    <span class="text-gray-300">Zero</span>
                    <span class="text-green-400">Positive (+100)</span>
                </div>
            </div>
        </div>

    </main>

    <footer class="py-10 text-center border-t border-gray-800 mt-20">
        <p class="text-[10px] text-gray-600 uppercase tracking-widest">© 2026 AutomationWithPiyush | Surgical Dexterity
        </p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 800, once: true });

        // --- Basic Utils ---
        function showToast(msg, isError = false) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = 'toast';
            if (isError) toast.style.borderLeftColor = '#f87171';
            toast.innerHTML = `<i class="fas ${isError ? 'fa-times-circle text-red-400' : 'fa-check-circle text-accent'}"></i> <span>${msg}</span>`;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function handleClick() {
            const box = document.getElementById('click-box');
            box.classList.add('border-accent', 'bg-accent/10');
            document.getElementById('click-text').innerText = "Click Activated!";
            showToast("Left Click Verified");
        }

        function handleContext(e) {
            e.preventDefault();
            document.getElementById('context-menu').classList.remove('hidden');
            showToast("Right Click Verified");
            setTimeout(() => document.getElementById('context-menu').classList.add('hidden'), 2000);
        }

        function handleDoubleClick() {
            document.getElementById('double-click-area').classList.add('border-accent', 'bg-accent/10');
            document.getElementById('db-text').innerText = "System Charged!";
            showToast("Double Click Verified");
        }

        function updateSlider(val) {
            const display = document.getElementById('slider-val');
            display.innerText = val > 0 ? `+${val}` : val;
            if (val == 0) display.className = "text-3xl font-black font-mono text-gray-500";
            else if (val < 0) display.className = "text-3xl font-black font-mono text-red-400";
            else display.className = "text-3xl font-black font-mono text-green-400";
        }

        // --- Click & Hold ---
        const holdArea = document.getElementById('click-hold');
        const progressRing = document.getElementById('hold-progress');
        const holdText = document.getElementById('hold-text');
        const holdIcon = document.getElementById('hold-icon');
        let holdTimer;

        holdArea.addEventListener('mousedown', () => {
            holdArea.classList.remove('border-red-500');
            holdText.classList.remove('text-red-500');
            holdIcon.classList.remove('text-red-500');
            holdArea.classList.add('border-accent');
            holdText.classList.add('text-accent');
            holdIcon.classList.add('text-accent');
            holdText.innerText = "Holding...";
            let start = Date.now();
            holdTimer = setInterval(() => {
                let elapsed = Date.now() - start;
                let percentage = Math.min(elapsed / 3000, 1);
                progressRing.style.strokeDashoffset = 283 - (283 * percentage);
                if (percentage >= 1) { clearInterval(holdTimer); completeHold(); }
            }, 50);
        });

        const resetHold = () => {
            clearInterval(holdTimer);
            progressRing.style.strokeDashoffset = 283;
            if (holdText.innerText !== "Success!") {
                holdText.innerText = "Released too early!";
                holdText.classList.replace('text-accent', 'text-red-500');
                holdArea.classList.replace('border-accent', 'border-red-500');
                holdIcon.classList.replace('text-accent', 'text-red-500');
                setTimeout(() => {
                    if (holdText.innerText === "Released too early!") {
                        holdText.innerText = "Hold for 3 Seconds";
                        holdText.className = "text-sm font-bold text-gray-500 z-10";
                        holdArea.classList.remove('border-red-500');
                        holdIcon.classList.remove('text-red-500');
                        holdIcon.classList.add('text-gray-600');
                    }
                }, 1000);
            }
        };

        holdArea.addEventListener('mouseup', resetHold);
        holdArea.addEventListener('mouseleave', resetHold);

        function completeHold() {
            holdText.innerText = "Success!";
            holdText.classList.replace('text-accent', 'text-green-400');
            holdArea.classList.replace('border-accent', 'border-green-400');
            holdIcon.classList.replace('text-accent', 'text-green-400');
            showToast("Hold Verified");
        }

        // ==========================================
        //  SHOPPING CART DRAG & DROP LOGIC
        // ==========================================

        let activeDragItem = null;
        let offsetX = 0;
        let offsetY = 0;
        let currentTotalPrice = 0;
        let dragOriginZone = null; // 'shelf-zone' or 'cart-zone'

        const cartZone = document.getElementById('cart-zone');
        const shelfZone = document.getElementById('shelf-zone');
        const totalDisplay = document.getElementById('cart-total');
        const cartPlaceholder = document.getElementById('cart-placeholder');

        document.querySelectorAll('.drag-item').forEach(item => {
            item.addEventListener('mousedown', startDrag);
        });

        function startDrag(e) {
            e.preventDefault();
            activeDragItem = this;
            dragOriginZone = activeDragItem.parentElement.id; // Remember where we started

            const rect = activeDragItem.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;

            activeDragItem.classList.add('is-dragging');

            // Set initial position immediately to prevent jump
            activeDragItem.style.left = (e.clientX - offsetX) + 'px';
            activeDragItem.style.top = (e.clientY - offsetY) + 'px';

            // If dragging from cart, width might change, so fix width
            activeDragItem.style.width = rect.width + 'px';

            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', onMouseUp);
        }

        function onMouseMove(e) {
            if (!activeDragItem) return;
            activeDragItem.style.left = (e.clientX - offsetX) + 'px';
            activeDragItem.style.top = (e.clientY - offsetY) + 'px';
        }

        function onMouseUp(e) {
            if (!activeDragItem) return;

            // Find what is under the mouse
            let elemBelow = document.elementFromPoint(e.clientX, e.clientY);
            let dropTarget = elemBelow ? elemBelow.closest('.drop-zone') : null;
            let targetId = dropTarget ? dropTarget.id : null;

            handleDropLogic(targetId);

            // Cleanup
            activeDragItem.classList.remove('is-dragging');
            activeDragItem.style.left = '';
            activeDragItem.style.top = '';
            activeDragItem.style.position = '';
            activeDragItem.style.width = ''; // Reset width
            activeDragItem.style.zIndex = '';

            activeDragItem = null;
            dragOriginZone = null;
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        }

        function handleDropLogic(targetId) {
            const price = parseInt(activeDragItem.getAttribute('data-price'));

            // SCENARIO 1: Adding to Cart (Shelf -> Cart)
            if (dragOriginZone === 'shelf-zone' && targetId === 'cart-zone') {
                cartZone.appendChild(activeDragItem);
                updateTotal(price);
                showToast(`Added to Cart: $${price}`);
            }

            // SCENARIO 2: Removing from Cart (Cart -> Shelf OR Cart -> Nowhere)
            // If we are dragging FROM cart, and we drop it ANYWHERE except the cart...
            else if (dragOriginZone === 'cart-zone' && targetId !== 'cart-zone') {
                shelfZone.appendChild(activeDragItem); // Return to shelf
                updateTotal(-price); // Subtract price
                showToast(`Removed from Cart`, true);
            }

            // SCENARIO 3: Reordering (Shelf -> Shelf or Cart -> Cart)
            // No price change, just visual movement (handled by appendChild automatically)
            else if (targetId && targetId === dragOriginZone) {
                // Just put it back in the flow
                // (Optional: You could implement specific sorting logic here)
            }

            updatePlaceholder();
        }

        function updatePlaceholder() {
            // Hide placeholder if cart has items (more than just the placeholder div)
            if (cartZone.children.length > 1) {
                cartPlaceholder.style.opacity = '0';
            } else {
                cartPlaceholder.style.opacity = '1';
            }
        }

        function updateTotal(amount) {
            currentTotalPrice += amount;
            totalDisplay.innerText = '$' + currentTotalPrice;

            // Visual pulse on total
            totalDisplay.classList.add('text-white');
            setTimeout(() => totalDisplay.classList.remove('text-white'), 300);
        }

    </script>
</body>

</html>